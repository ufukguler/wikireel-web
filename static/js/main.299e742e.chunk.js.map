{"version":3,"sources":["services/wikipedia/index.ts","components/ArticleContent.tsx","components/ContentCard.tsx","components/NavigationButtons.tsx","components/LoadingSpinner.tsx","components/MobileInstructions.tsx","components/LanguageSelector.tsx","components/HamburgerMenu.tsx","utils/imagePreloader.ts","App.tsx","index.tsx"],"names":["currentLanguage","async","fetchAndParseWikipediaContent","_response$data$query","pages","axios","get","params","action","format","generator","grnnamespace","grnlimit","prop","inprop","explaintext","exintro","exsectionformat","piprop","pithumbsize","origin","data","query","results","pageId","page","title","extract","original","source","push","fullurl","canonicalurl","imageUrl","error","console","ArticleContent","_ref","item","React","createElement","className","style","background","itemProp","href","target","rel","display","WebkitBoxOrient","overflow","WebkitLineClamp","lineHeight","maxHeight","dangerouslySetInnerHTML","__html","ContentCard","index","currentIndex","cardRef","useRef","useEffect","node","current","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","threshold","observe","unobserve","ref","itemScope","itemType","type","JSON","stringify","@context","@type","headline","description","image","datePublished","Date","toISOString","dateModified","author","name","publisher","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","backgroundColor","position","minHeight","NavigationButtons","onPrev","onNext","isPrevDisabled","isNextDisabled","onClick","disabled","LoadingSpinner","isLoading","nodeRef","CSSTransition","in","timeout","classNames","unmountOnExit","role","MobileInstructions","show","instructionsRef","languages","code","LanguageSelector","_languages$find","onLanguageChange","isMobile","isOpen","setIsOpen","useState","e","stopPropagation","aria-expanded","find","lang","map","language","key","handleSelect","HamburgerMenu","onSearch","onExitSearch","searchQuery","setSearchQuery","menuRef","handleClickOutside","event","contains","document","addEventListener","body","removeEventListener","aria-label","onSubmit","info","trim","preventDefault","placeholder","value","onChange","preloadImage","url","Promise","resolve","reject","img","Image","src","onload","onerror","Error","App","items","setItems","setCurrentIndex","loading","setLoading","isTransitioning","setIsTransitioning","isLoadingMore","setIsLoadingMore","direction","setDirection","isInitialRender","setIsInitialRender","touchStart","setTouchStart","setIsMobile","window","innerWidth","showInstructions","setShowInstructions","setCurrentLanguage","hasFetched","contentNodeRef","fetchData","length","fetchMoreData","useCallback","newData","prevItems","ReactGA","initialize","checkAndFetchMore","preloadNextImage","handleResize","timer","setTimeout","clearTimeout","next","prev","handleKeyDown","onTouchStart","touches","clientY","onTouchMove","currentTouch","diff","Math","abs","onTouchEnd","handleTouchEnd","zIndex","languageCode","setWikipediaLanguage","searchResults","_response$data$query2","gsrnamespace","gsrlimit","gsrsearch","_page$original","searchWikipedia","handleExitSearch","overflowY","scrollSnapType","WebkitOverflowScrolling","onScroll","scrollTop","scrollHeight","clientHeight","currentTarget","scrollSnapAlign","width","height","margin","appear","Fragment","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.299e742e.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport interface WikiItem {\n  title: string;\n  extract: string;\n  fullurl: string | null;\n  imageUrl: string;\n}\n\ninterface WikiItemResponse {\n  title: string;\n  extract: string;\n  fullurl?: string;\n  canonicalurl?: string;\n  original: {\n    source: string;\n  };\n}\n\ninterface SearchResult {\n  title: string;\n  snippet: string;\n  pageid: number;\n}\n\nlet currentLanguage = 'en';\n\nexport const setWikipediaLanguage = (languageCode: string) => {\n  currentLanguage = languageCode;\n};\n\nasync function fetchAndParseWikipediaContent(): Promise<WikiItem[]> {\n  try {\n    const response = await axios.get(`https://${currentLanguage}.wikipedia.org/w/api.php`, {\n      params: {\n        action: 'query',\n        format: 'json',\n        generator: 'random',\n        grnnamespace: 0,\n        grnlimit: 50,\n        prop: 'extracts|pageimages|info',\n        inprop: 'url',\n        explaintext: 1,\n        exintro: 1,\n        exsectionformat: 'plain',\n        piprop: 'original|thumbnail',\n        pithumbsize: 1000,\n        origin: '*'\n      }\n    });\n\n    const pages: WikiItemResponse[] = response.data.query?.pages || [];\n    const results: WikiItem[] = [];\n\n    for (const pageId in pages) {\n      const page = pages[pageId];\n      if (page.title && page.extract && page.original && page.original.source) {\n        results.push({\n          title: page.title,\n          extract: page.extract,\n          fullurl: page.fullurl || page.canonicalurl || null,\n          imageUrl: page.original.source\n        });\n      }\n    }\n\n    return results;\n  } catch (error) {\n    console.error('Error fetching Wikipedia data:', error);\n    return [];\n  }\n}\n\nasync function searchWikipedia(query: string): Promise<WikiItem[]> {\n  try {\n    const response = await axios.get(`https://${currentLanguage}.wikipedia.org/w/api.php`, {\n      params: {\n        action: 'query',\n        format: 'json',\n        generator: 'search',\n        gsrnamespace: 0,\n        gsrlimit: 50,\n        gsrsearch: query,\n        prop: 'extracts|pageimages|info',\n        inprop: 'url',\n        exintro: 1,\n        exsectionformat: 'plain',\n        piprop: 'original|thumbnail',\n        pithumbsize: 1000,\n        origin: '*'\n      }\n    });\n\n    const pages: WikiItemResponse[] = response.data.query?.pages || [];\n    const results: WikiItem[] = [];\n\n    for (const pageId in pages) {\n      const page = pages[pageId];\n      if (page.title && page.extract) {\n        results.push({\n          title: page.title,\n          extract: page.extract,\n          fullurl: page.fullurl || page.canonicalurl || null,\n          imageUrl: page.original?.source || ''\n        });\n      }\n    }\n\n    return results;\n  } catch (error) {\n    console.error('Error searching Wikipedia:', error);\n    return [];\n  }\n}\n\nexport { fetchAndParseWikipediaContent, searchWikipedia };","import React from 'react';\nimport {WikiItem} from '../services/wikipedia';\n\ninterface ArticleContentProps {\n  item: WikiItem;\n}\n\nconst MAX_LINES = 8;\nconst LINE_HEIGHT = 1.5;\n\nexport const ArticleContent: React.FC<ArticleContentProps> = ({item}) => {\n\n  return (\n    <div\n      className=\"position-absolute bottom-0 w-100 p-4 text-white\"\n      style={{\n        background: 'linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.8) 50%, rgba(0,0,0,0) 100%)',\n      }}\n    >\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\n        <h2 className=\"mb-0 fw-bold\" itemProp=\"headline\">{item.title}</h2>\n        {item.fullurl && (\n          <a\n            href={item.fullurl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"btn btn-outline-light btn-sm rounded-pill px-3 hover-scale glass-effect\"\n          >\n            Read more\n            <i className=\"bi bi-box-arrow-up-right ms-2\"></i>\n          </a>\n        )}\n      </div>\n      <div\n        className=\"mb-3\"\n        style={{\n          display: '-webkit-box',\n          WebkitBoxOrient: 'vertical',\n          overflow: 'hidden',\n          WebkitLineClamp: MAX_LINES,\n          lineHeight: `${LINE_HEIGHT}rem`,\n          maxHeight: `${MAX_LINES * LINE_HEIGHT}rem`,\n        }}\n        itemProp=\"articleBody\"\n      >\n        <p className=\"mb-0\" dangerouslySetInnerHTML={{ __html: item.extract }}></p>\n      </div>\n    </div>\n  );\n}; ","import React, { useEffect, useRef } from 'react';\nimport { WikiItem } from '../services/wikipedia';\nimport { ArticleContent } from './ArticleContent';\n\ninterface ContentCardProps {\n  item: WikiItem;\n  index: number;\n  currentIndex: number;\n}\n\nexport const ContentCard: React.FC<ContentCardProps> = ({ item, index, currentIndex }) => {\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const node = cardRef.current;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            // Card is visible\n          }\n        });\n      },\n      { threshold: 0.5 }\n    );\n\n    if (node) {\n      observer.observe(node);\n    }\n\n    return () => {\n      if (node) {\n        observer.unobserve(node);\n      }\n    };\n  }, []);\n\n\n  return (\n    <article \n      ref={cardRef}\n      className=\"position-relative w-100 h-100\" \n      itemScope \n      itemType=\"http://schema.org/Article\"\n    >\n      <script type=\"application/ld+json\">\n        {JSON.stringify({\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"Article\",\n          \"headline\": item.title,\n          \"description\": item.extract,\n          \"image\": item.imageUrl,\n          \"datePublished\": new Date().toISOString(),\n          \"dateModified\": new Date().toISOString(),\n          \"author\": {\n            \"@type\": \"Organization\",\n            \"name\": \"Wikipedia\"\n          },\n          \"publisher\": {\n            \"@type\": \"Organization\",\n            \"name\": \"Wikipedia\"\n          }\n        })}\n      </script>\n      <div\n        className=\"w-100 h-100 content-card-image\"\n        style={{\n          backgroundImage: `url(${item.imageUrl})`,\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat',\n          backgroundSize: 'contain',\n          backgroundColor: '#000',\n          position: 'relative',\n          minHeight: '100%'\n        }}\n        itemProp=\"image\"\n      >\n        <ArticleContent item={item} />\n      </div>\n    </article>\n  );\n};","import React from 'react';\n\ninterface NavigationButtonsProps {\n  onPrev: () => void;\n  onNext: () => void;\n  isPrevDisabled: boolean;\n  isNextDisabled: boolean;\n}\n\nexport const NavigationButtons: React.FC<NavigationButtonsProps> = ({\n  onPrev,\n  onNext,\n  isPrevDisabled,\n  isNextDisabled,\n}) => {\n  return (\n    <div className=\"position-absolute end-0 top-50 translate-middle-y me-4 d-flex flex-column gap-3\">\n      <button\n        onClick={onPrev}\n        disabled={isPrevDisabled}\n        className=\"btn btn-outline-light rounded-pill px-4 py-3 d-flex align-items-center gap-2 shadow-sm hover-scale glass-effect\"\n      >\n        <i className=\"bi bi-chevron-up fs-5\"></i>\n      </button>\n      <button\n        onClick={onNext}\n        disabled={isNextDisabled}\n        className=\"btn btn-outline-light rounded-pill px-4 py-3 d-flex align-items-center gap-2 shadow-sm hover-scale glass-effect\"\n      >\n        <i className=\"bi bi-chevron-down fs-5\"></i>\n      </button>\n    </div>\n  );\n}; ","import React from 'react';\nimport {CSSTransition} from 'react-transition-group';\n\ninterface LoadingSpinnerProps {\n  isLoading: boolean;\n}\n\nexport const LoadingSpinner: React.FC<LoadingSpinnerProps> = ({isLoading}) => {\n  const nodeRef = React.useRef<HTMLDivElement>(null);\n\n  return (\n    <CSSTransition\n      in={isLoading}\n      timeout={300}\n      classNames=\"fade\"\n      unmountOnExit\n      nodeRef={nodeRef}\n    >\n      <div\n        ref={nodeRef}\n        className=\"position-fixed top-0 start-0 end-0 bottom-0 d-flex align-items-center justify-content-center bg-dark bg-opacity-50\"\n      >\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    </CSSTransition>\n  );\n}; ","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\ninterface MobileInstructionsProps {\n  show: boolean;\n}\n\nexport const MobileInstructions: React.FC<MobileInstructionsProps> = ({ show }) => {\n  const instructionsRef = React.useRef<HTMLDivElement>(null);\n\n  return (\n    <CSSTransition\n      in={show}\n      timeout={300}\n      classNames=\"fade\"\n      unmountOnExit\n      nodeRef={instructionsRef}\n    >\n      <div\n        ref={instructionsRef}\n        className=\"mobile-instructions position-fixed top-0 start-0 end-0 p-3 text-center bg-dark bg-opacity-75\"\n      >\n        <div className=\"d-flex align-items-center justify-content-center gap-2\">\n          <i className=\"bi bi-arrow-up fs-4\"></i>\n          <span className=\"text-white\">Swipe up/down to navigate</span>\n          <i className=\"bi bi-arrow-down fs-4\"></i>\n        </div>\n      </div>\n    </CSSTransition>\n  );\n}; ","import React, { useState } from 'react';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\n\ninterface LanguageSelectorProps {\n  currentLanguage: string;\n  onLanguageChange: (languageCode: string) => void;\n  isMobile: boolean;\n}\n\nconst languages = [\n  { code: 'en', name: 'English' },\n  { code: 'tr', name: 'Türkçe' },\n  { code: 'de', name: 'Deutsch' },\n  { code: 'fr', name: 'Français' },\n  { code: 'es', name: 'Español' },\n  { code: 'it', name: 'Italiano' },\n  { code: 'pt', name: 'Português' },\n  { code: 'ru', name: 'Русский' },\n  { code: 'zh', name: '中文' },\n  { code: 'ja', name: '日本語' }\n];\n\nexport const LanguageSelector: React.FC<LanguageSelectorProps> = ({\n  currentLanguage,\n  onLanguageChange,\n  isMobile\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleToggle = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsOpen(!isOpen);\n  };\n\n  const handleSelect = (code: string) => {\n    onLanguageChange(code);\n    setIsOpen(false);\n  };\n\n  return (\n    <div className={`language-selector ${isMobile ? 'mobile' : ''}`}>\n      <div className=\"dropdown\">\n        <button\n          className=\"btn btn-outline-light dropdown-toggle w-100\"\n          type=\"button\"\n          onClick={handleToggle}\n          aria-expanded={isOpen}\n        >\n          <i className=\"bi bi-translate me-2\"></i>\n          {languages.find(lang => lang.code === currentLanguage)?.name || 'Select Language'}\n        </button>\n        {isOpen && (\n          <ul className=\"dropdown-menu show\" style={{ display: 'block' }}>\n            {languages.map((language) => (\n              <li key={language.code}>\n                <button\n                  className={`dropdown-item ${currentLanguage === language.code ? 'active' : ''}`}\n                  onClick={() => handleSelect(language.code)}\n                >\n                  {language.name}\n                </button>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}; ","import React, { useState, useRef, useEffect } from 'react';\nimport { LanguageSelector } from './LanguageSelector';\nimport { CSSTransition } from 'react-transition-group';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\n\ninterface HamburgerMenuProps {\n  currentLanguage: string;\n  onLanguageChange: (languageCode: string) => void;\n  onSearch: (query: string) => void;\n  onExitSearch: () => void;\n}\n\nexport const HamburgerMenu: React.FC<HamburgerMenuProps> = ({\n  currentLanguage,\n  onLanguageChange,\n  onSearch,\n  onExitSearch\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  const handleSearch = (e: React.FormEvent) => {\n    console.info(`handleSearch: ${searchQuery.trim()}`);\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      onSearch(searchQuery);\n      setIsOpen(false);\n    }\n  };\n\n  const handleExitSearch = () => {\n    console.info('handleExitSearch');\n    onExitSearch();\n    setIsOpen(false);\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  return (\n    <div className=\"hamburger-menu\" ref={menuRef}>\n      <button\n        className=\"hamburger-button\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-label={isOpen ? 'Close menu' : 'Open menu'}\n      >\n        <i className={`bi bi-${isOpen ? 'x' : 'list'}`}></i>\n      </button>\n\n      <CSSTransition\n        in={isOpen}\n        timeout={300}\n        classNames=\"menu\"\n        unmountOnExit\n        nodeRef={nodeRef}\n      >\n        <div \n          className=\"menu-content\"\n          ref={nodeRef}\n        >\n          <div className=\"menu-content-wrapper\">\n            <form onSubmit={handleSearch} className=\"mb-3\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control bg-dark text-white border-light\"\n                  placeholder=\"Search Wikipedia...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                />\n                {searchQuery && (\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-light\"\n                    onClick={() => {\n                      setSearchQuery('');\n                      handleExitSearch();\n                    }}\n                  >\n                    <i className=\"bi bi-x\"></i>\n                  </button>\n                )}\n                <button\n                  className=\"btn btn-outline-light\"\n                  type=\"submit\"\n                >\n                  <i className=\"bi bi-search\"></i>\n                </button>\n              </div>\n            </form>\n          </div>\n          \n          <LanguageSelector\n            currentLanguage={currentLanguage}\n            onLanguageChange={(code) => {\n              onLanguageChange(code);\n              setIsOpen(false);\n            }}\n            isMobile={true}\n          />\n        </div>\n      </CSSTransition>\n    </div>\n  );\n}; ","export const preloadImage = (url: string): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.src = url;\n    img.onload = () => resolve();\n    img.onerror = () => reject(new Error(`Failed to preload image: ${url}`));\n  });\n}; ","import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport {fetchAndParseWikipediaContent, searchWikipedia, setWikipediaLanguage, WikiItem} from \"./services/wikipedia\";\nimport {ContentCard} from \"./components/ContentCard\";\nimport {NavigationButtons} from \"./components/NavigationButtons\";\nimport {LoadingSpinner} from \"./components/LoadingSpinner\";\nimport {MobileInstructions} from \"./components/MobileInstructions\";\nimport {HamburgerMenu} from \"./components/HamburgerMenu\";\nimport {preloadImage} from \"./utils/imagePreloader\";\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport './App.css';\nimport ReactGA from \"react-ga4\";\nimport {CSSTransition} from \"react-transition-group\";\n\nconst App: React.FC = () => {\n  const [items, setItems] = useState<WikiItem[]>([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const [direction, setDirection] = useState<'next' | 'prev'>('next');\n  const [isInitialRender, setIsInitialRender] = useState(true);\n  const [touchStart, setTouchStart] = useState<number | null>(null);\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n  const [showInstructions, setShowInstructions] = useState(true);\n  const [currentLanguage, setCurrentLanguage] = useState('en');\n\n  const hasFetched = useRef(false);\n  const contentNodeRef = useRef<HTMLDivElement>(null);\n\n  const handleLanguageChange = async (languageCode: string) => {\n    setCurrentLanguage(languageCode);\n    setWikipediaLanguage(languageCode);\n    setLoading(true);\n    setItems([]);\n    setCurrentIndex(0);\n    hasFetched.current = false;\n\n    try {\n      const data = await fetchAndParseWikipediaContent();\n      setItems(data);\n      if (data.length > 0) {\n        await preloadImage(data[0].imageUrl);\n      }\n    } catch (error) {\n      console.error('Error fetching Wikipedia data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = async (query: string) => {\n    console.info(`handleSearch: ${query}`);\n    setItems([]);\n    setLoading(true);\n    try {\n      const searchResults = await searchWikipedia(query);\n      setItems(searchResults);\n      setCurrentIndex(0);\n\n      if (searchResults.length > 0) {\n        await preloadImage(searchResults[0].imageUrl);\n      }\n    } catch (error) {\n      console.error('Error searching Wikipedia:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExitSearch = () => {\n    console.info('handleExitSearch');\n    setLoading(true);\n    setItems([]);\n    // Reset to random content\n    hasFetched.current = false;\n    fetchData();\n  };\n\n  const fetchData = async () => {\n    console.info('fetchData');\n    if (hasFetched.current) return;\n    hasFetched.current = true;\n    setLoading(true);\n\n    try {\n      const data = await fetchAndParseWikipediaContent();\n      setItems(data);\n\n      if (data.length > 0) {\n        await preloadImage(data[0].imageUrl);\n      }\n    } catch (error) {\n      console.error('Error fetching Wikipedia data:', error);\n    } finally {\n      setLoading(false);\n      setIsInitialRender(false);\n    }\n  };\n\n  const fetchMoreData = useCallback(async () => {\n    console.info('fetchMoreData');\n    if (isLoadingMore) return;\n    setIsLoadingMore(true);\n\n    try {\n      const newData = await fetchAndParseWikipediaContent();\n      setItems(prevItems => [...prevItems, ...newData]);\n\n      // Preload the first image of the new batch\n      if (newData.length > 0) {\n        await preloadImage(newData[0].imageUrl);\n      }\n    } catch (error) {\n      console.error('Error fetching more Wikipedia data:', error);\n    } finally {\n      setIsLoadingMore(false);\n    }\n  }, [isLoadingMore]);\n\n  useEffect(() => {\n    ReactGA.initialize(\"G-LZ7F2X9Q9G\");\n    // Make the initial API call immediately\n    fetchData();\n  }, []);\n\n  // Check if we need to fetch more data when current index changes\n  useEffect(() => {\n    const checkAndFetchMore = async () => {\n      const remainingItems = items.length - currentIndex - 1;\n      if (remainingItems <= 5) {\n        await fetchMoreData();\n      }\n    };\n\n    if (items.length > 0) {\n      checkAndFetchMore();\n    }\n  }, [currentIndex, items, fetchMoreData]);\n\n  // Preload next image when current index changes\n  useEffect(() => {\n    const preloadNextImage = async () => {\n      if (currentIndex < items.length - 1 && !isTransitioning) {\n        try {\n          await preloadImage(items[currentIndex + 1].imageUrl);\n        } catch (error) {\n          console.error('Error preloading image:', error);\n        }\n      }\n    };\n\n    if (items.length > 0) {\n      preloadNextImage();\n    }\n  }, [currentIndex, items, isTransitioning]);\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart(e.touches[0].clientY);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (!touchStart) return;\n\n    const currentTouch = e.touches[0].clientY;\n    const diff = touchStart - currentTouch;\n\n    // Only trigger if the swipe is significant enough\n    if (Math.abs(diff) > 50) {\n      if (diff > 0) {\n        // Swipe up - go to next\n        next();\n      } else {\n        // Swipe down - go to previous\n        prev();\n      }\n      setTouchStart(null);\n    }\n  };\n\n  const handleTouchEnd = () => {\n    setTouchStart(null);\n  };\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    if (isMobile && showInstructions) {\n      const timer = setTimeout(() => {\n        setShowInstructions(false);\n      }, 5000); // Hide after 5 seconds\n\n      return () => clearTimeout(timer);\n    }\n  }, [isMobile, showInstructions]);\n\n  const next = async () => {\n    if (currentIndex < items.length - 1) {\n      setDirection('next');\n      setIsTransitioning(true);\n      setCurrentIndex(currentIndex + 1);\n      setIsTransitioning(false);\n    }\n  };\n\n  const prev = async () => {\n    if (currentIndex > 0) {\n      setDirection('prev');\n      setIsTransitioning(true);\n      setCurrentIndex(currentIndex - 1);\n      setIsTransitioning(false);\n    }\n  };\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (isTransitioning) return;\n\n      switch (e.key) {\n        case 'ArrowDown':\n        case 'ArrowRight':\n          e.preventDefault();\n          next();\n          break;\n        case 'ArrowUp':\n        case 'ArrowLeft':\n          e.preventDefault();\n          prev();\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isTransitioning, currentIndex, items.length]);\n\n  return (\n    <div\n      className=\"vh-100 bg-dark text-white position-relative overflow-hidden\"\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      style={{position: 'relative'}}\n    >\n      <h1 className=\"visually-hidden\">WikiReel - Wikipedia Content Explorer</h1>\n\n      <LoadingSpinner isLoading={loading}/>\n      <MobileInstructions show={isMobile && showInstructions}/>\n\n      <div style={{position: 'relative', zIndex: 1050}}>\n        <HamburgerMenu\n          currentLanguage={currentLanguage}\n          onLanguageChange={handleLanguageChange}\n          onSearch={handleSearch}\n          onExitSearch={handleExitSearch}\n        />\n      </div>\n\n      <div\n        className=\"position-relative w-100 h-100 hide-scrollbar\"\n        style={{\n          overflowY: isMobile ? 'scroll' : 'hidden',\n          scrollSnapType: isMobile ? 'y mandatory' : 'none',\n          WebkitOverflowScrolling: 'touch'\n        }}\n        onScroll={(e) => {\n          if (isMobile) {\n            const {scrollTop, scrollHeight, clientHeight} = e.currentTarget;\n            // If we're near the bottom (within 1000px), load more content\n            if (scrollHeight - scrollTop - clientHeight < 1000) {\n              fetchMoreData();\n            }\n          }\n        }}\n      >\n        {items.length ? (isMobile ? items.map((item, index) => (\n          <div\n            key={index}\n            className=\"w-100 h-100\"\n            style={{\n              scrollSnapAlign: isMobile ? 'start' : 'none',\n              position: 'relative'\n            }}\n          >\n            <div\n              className=\"content-container\"\n              style={{\n                width: isMobile ? '100%' : 'min(70vw, 800px)',\n                height: '100%',\n                margin: '0 auto'\n              }}\n            >\n              <ContentCard\n                item={item}\n                index={index}\n                currentIndex={currentIndex}\n              />\n            </div>\n          </div>\n        )) : (\n          <CSSTransition\n            in={!isInitialRender}\n            timeout={300}\n            classNames={direction === 'next' ? 'slide' : 'slide-reverse'}\n            key={currentIndex}\n            nodeRef={contentNodeRef}\n            appear={!isInitialRender}\n          >\n            <div\n              ref={contentNodeRef}\n              className=\"position-absolute w-100 h-100 d-flex justify-content-center align-items-center\"\n            >\n              <div\n                className=\"content-container\"\n                style={{\n                  width: isMobile ? '100%' : 'min(70vw, 800px)',\n                  height: '100%'\n                }}\n              >\n                <ContentCard\n                  item={items[currentIndex]}\n                  index={0}\n                  currentIndex={0}\n                />\n              </div>\n            </div>\n          </CSSTransition>\n        )) : (\n          <></>\n        )\n        }\n      </div>\n\n      {!isMobile && (\n        <NavigationButtons\n          onPrev={prev}\n          onNext={next}\n          isPrevDisabled={currentIndex === 0 || isTransitioning}\n          isNextDisabled={isTransitioning}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>\n);"],"sourceRoot":""}